const Evenement = require('../models/Evenement')
const Club = require('../models/Club')
const { validationResult } = require('express-validator')
const {Op} = require("sequelize");

exports.getAllEvenement = async (req,res) => {
    const errors = validationResult(req)
    if (!errors.isEmpty()) {
        return res.status(400).json({ errors: errors.array() })
    }
    try{
        let evenements = await Evenement.findAll({order:[['date']],where:{date: {[Op.gte]: new Date()}}})
        evenements = await Promise.all(evenements.map(async event => {
            const club = await Club.findByPk(event.id_club)
            return {
                ...event.dataValues,
                club
            }
        }))
        return res.json({data:evenements})
    }catch (err) {
        console.log("get all evenements error : " + err.message)
        res.status(500).json({msg:"Server Error"})
    }
}

exports.getEvenement = async (req,res) => {
    const errors = validationResult(req)
    if (!errors.isEmpty()) {
        return res.status(400).json({ errors: errors.array() })
    }
    try{
        let evenement = await Evenement.findByPk(req.params.id)
        const club = await Club.findByPk(evenement.id_club)
        if(!club)
            return res.status(404).json({msg:"Cet evenement n'a pas de club"})
        evenement = {...evenement.dataValues,club}
        return res.json({data:evenement})
    }catch (err) {
        console.log("get one evenement error message " + err.message)
        res.status(500).json({msg:"Server Error"})
    }
}

exports.addEvenement = async (req,res) => {
    const errors = validationResult(req)
    if (!errors.isEmpty()) {
        return res.status(400).json({ errors: errors.array() })
    }
    try{
        const evenement = await Evenement.create({...req.body,id_club:req.params.id_club,logo:req.body.logo?req.body.logo:'data:image/png;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjkwZmMxMDdlLWQ5NTAtNDdiNi1hYjBjLTc3YzczODg5Nzc1NzwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjQ5ZTM4MjIzLTZlZDMtNDRhOC05ZThmLTU4YzQwZmJhMWVmNDwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/9sAQwEFBQUHBgcOCAgOHhQRFB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4e/8AAEQgBaAFoAwERAAIRAQMRAf/EAB0AAQADAQEAAwEAAAAAAAAAAAAGBwgFBAIDCQH/xABGEAACAQMCAwUEBAoIBgMAAAAAAQIDBAUGEQcSIQgTMUFRImFxgRQykbMVNjdCYnR1gqGyFyM1UlaDwdIWJCdjsfAzdtH/xAAcAQEAAQUBAQAAAAAAAAAAAAAAAQIDBQYHBAj/xABAEQEAAQMCAwUEBwYEBgMAAAAAAQIDEQQFBiExEkFRcbETYYGhByJykcHR8BQyMzQ14RZTYvEVI0JDUqJzksL/2gAMAwEAAhEDEQA/ANlgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQzijxI09w+x9Ktlp1K93XT+j2dDZ1Km3i+vSMV6v5bkxGWb2XYdVu9yabMYpjrM9I/Ofcp6n2o273+s0ala7/AJuQ3qJev1NtyrsNzn6Ovqcr/wBb7PL1S/W2Y1RxN4f4zLcKMtVtWrqUb2j3yt68WkvYcvBcre7SfVNNblPRhdu0uj2TX3LO70Z5fVnHajzx7/LktXTVLJW+nsfQzNxTuclTtqcbutBbRqVVFc0l8XuQ1PV1Wa79dViMUTM4jwjPJ0A84AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeDP5rFYHHTyOZyFvYWkGourXmox3fgviHo02lvaq5FqzTNVXhDLHa/x9SWsMRqOjcK5x2Sx8Y29WEuaG8G21Frps1OMl8WXKHV+Ar8RpLmmqjFdFXOO/n/ALTCmcTjr7LZK3xuNtql1d3M1To0qa3lOT8iuZw3e/ft6e3N27OKY5zLXHAnTmZ4X8OtQXOqbWFJ0qk77u6NaNRunCit1uum+8Wi1M5lx3iXX2N83CzTpJznFPOJjnNX91Nag7QvELIX1Srjrq0xNs5exRo20KjS8t5TTbfv6fAqihu2l4H2u1REXYmufGZmPlGHt0v2j9a2FxFZu3sMxb7+2nT7irt7pQ6fbFiaFjW8Bbfdp/5EzRPnmPunn82lOG+ucFrzB/hPC1pbwahcW9VJVaE2vCS9/k10f2lueTmO77Pqdqv+yvx16THSY935JQGKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAODrrSWF1ngnh87QnVtu9jVjyVHCUJx32kmvc2vmHv23c9Rtt/2+nnE4x48kD4+6Jsb3g6sPiLeMKuGjTq46gnvKUaa5ZQjv1k3Bv1baRMTiWf4Y3e5a3b216eVzMVT588+7n90Mt8OdRV9Ca/sM7WsZVZ2NWUa1vNcknGUXCS6+Ekm9t/Muz9aOTrG7aGnddDXYpqx2o5T16TmPg1TnNeYjXHAzVuawtO7pUKVlcW0lc01CXP3Sb8G+ntotdJcl02zX9r3rTWL8xMzVTPLwz8PBjWys7u+uVbWVrXua0k9qdGm5ye3jsl1L0zEO13LtFqntXJiI8Z5PpnGUJOE4uMk9mmtmmSriYmMw0j2MNP5KnUzGpqkpU8fWpqzpQfhVmpKUpfCPhv6yfoWq55uZfSDrrVUWtLHOqPrT7o6Y+P4NKFDmQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABnjtBcbr3DZS40ppCpGld0HyXt+0pOnLzp00+m685PwfRdVuVU05dG4W4Rt6m3Tq9ZGaZ/dp8Y8Z/CGasnkshlLuV3kr25vLiT3lVr1ZVJP5tl2IiHT7OntWKOxapimPCIw6menPI6exWWnKVSvT57G4nJ7tuG0qbb8/Yny/wCWU08pw8mliLOouWY5ROKo+PKfnGfiuXhtLuOyVrGp4c9zWj9saMf9Sirq0rd47XFOmj3R/wDqVZ8H+IFfh5qO4ytHF0cjG4t3bzpzqOnJLmUk4ySe3VLy6lyqnLad/wBkp3jTxamuacTnPX74fTVsM7xD4nOMcd9Dvs5eyqcipSjCmm95S69Wox3bfnt7yMxEKov6bZ9tz2+1Tbpx15z4R8Z6NsYOywWi9M47DU7m2sbK2hG3ouvVjDvJefVtbyk92/e2WnDtTd1O5aiu/MTVVPOcRnH9o6O6HgeTI5PG46MJZDIWlpGb2i69aNNSfu3a3C9a0929/DpmryiZemlUp1acalKcZwkt4yi9016phaqpmmcT1fIIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADxXWWxdtk7bF3GRtKN9dJyt7adaMalVLxcYt7vb3Bfo016u3Vdpomaaes45R5yy52kOEd9h8lfaywcat3jLqrKve0vrTtZye8pe+m2/H83z6dS5TV3Oq8I8T29Rbo0Wo5V0xime6qI6R5+qidupcb+0borg/pvJ8CauXuMzXV1e234QddTj3NtOkp7RcdvJOUZdd/hsWZq55c03HijV2N7izTbjs0z2cd8xOP7TDn6Tn3PY61JPw7y/a+2rQQ73o10driyxHhT+FSodMSePsclnotRrW0I0LSXnGvVbSkvfGEakk/J7Mrq5zhuWtj21dvT90858o7vjMxHll6tKcQNW6ay9LJY7M3U5we8qVxUdWnUXmpRk/B+q2fvE0xha12yaHW2ptXLcYnvjlMfc1Pr3QNvxi0tprLXV9d4SrG3Vw6Lpd5sqsYuUXFtbSWy2l/AtuTbZvVXDupv2aKYuRnGc4/dmcT38vc8XFTi/hOHeLp6bwc1ls3bUY0FCc+aFvyxSTrSXjLp9VdfXYmKcvRsvC+o3i7Opv8A1Lczn3zn/wAY8Pf92WUNUagzGpsxVy2cvqt7d1X1nN9IryjFeEYr0XQuREOuaLQ6fRWos2KezTH65+Mr27GWfy08xltOVK1WrjIWv0qnCT3jRqc6i+X0UlJ9PWO/qUVw0H6QdFYi1b1MRivOJ98Yzz8vxacKHLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjuZ0bpzKarx2q8hYqplMZDlt63eSSiurW6T2ezba38NwyOn3XV2NLXpLdWKK+sYdPH5PEZmlWjj8hZZCnB93VVCtCqov+7LZvb4MPNd09/TzHtKZpnrGYmPuZn7QPBKWJ+kap0faynjutS7sKa3dv6zprzh6x/N8unhXTVjq6fwtxdGoxpNbP1+kVePun3+/v8APrTWmM9eYm/toyvLn8HKupXFsqsu7qQfSe8d9nvFteBXVETzbtrdFb1FFUxTHbxynvie7n5rovLSWH7J+bxsp8zhnJUeb+8lcQ2fzUU/mW6erSLd39o4ntXfGjP/AKz+ansnCNDD4TCyqxouv/ztzOT6RdVqMN/cqcVL99lUdctzs1TXdu38Zx9WPhzn75nHwaR0vwF0XpvJ2upsjnJZHG2dDv5xulTjQlNbNVXJdO7S68r38t210dM1TLmWs403DW26tLbt9muqccs5x4Y8ff8AJEeNPH6vf99gtDValta9YVcns41Kq81SXjCP6X1n5beLmmnLM8PcFU2sajXxmrup7o8/Gfd081S8KsdZZriPhbHL29e6sq95H6TCnCU3KO/53L15W9t36NlVXKMQ2/e79zTbfdrszEVRHLpH6nw97WvEzhNpPVGnI2lKzsMFWtpRnTvbe1hB0oJ+3FpbJxcd/F7J7PyLcTMOQbPxNrdDqO3NU3In/pmZnM93jzz+Tq8KNC6Y0Tg3T043c/S+WpVvZ1FUncbL2XzR6cq3eyXTr8xM5eTe951m53s6nl2eUU9Ij7+efHKZEMKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFQdrTMZLF8LlRx8qlOF/ewtrmpB7NUnGUnHf9JxS+G68yqmMy3LgbS2r+5dq5z7NMzHnmI+WWcOEmnOIGXy9S+0JG6oV7TbvbqnXVGEN/CLk3tLf+71+BXViHS991+2ae1FvX4mKukYzPn7vNd2E43ZzSmY/wCGeK+CqWt3BL/nrWKfNF+E5QT2kn19qD8vqlHZz0aJqOEdPr7P7VtFzNP/AIz6Z6xPun70Y4wcMMPqDHVtecMK9tkLSW9S9sbR83K/FzpxXWL83TaT80vImmrHKWV2DiG/o7kbfusTTV0pqn0me/3Vff4vQ7mhqTsxYqxpz5LitmqNneS332lF9Zv/AC4xk/gymeq37OrRcR3Lk9IomqPj3f8A2mYRbSeBwE7mvxK1/L6Lp3vm8Xjmt6uQ5OkIRh504pRTfg9ur23JzyxDK67W6mKY2zbud3H1qu6jPWZnxmc+/wCL3ajv+J3Gy7jbYXC3FppynJKhQT7q2il4SnUeynJei3S8kTGIWNJZ2jhmntX7kVXZ6z1q+Ed0efXvl7qfBK20pksDLVtO6zVvf3Lp3krKsre2sYpL2qlSftSXV+HJ4PrvshNcysVcXV6+3e/Y5iiaYzHajNVU+ERHKP8A28lsW2u+DOgbOVlicliLZR6OnjaTrTm/0pQT5n75MpxMtQr2bf8Adq+3eoqn7U4x8Jx8oRnUHaF4eZW3ucLeYbOXeNu6cqFxLu4R5oSWz2XPzeHwZPZlldLwPuliqm/RcpiumcxznrHwwt7QNrg7PRmKoaag4Yd20almm5NunP2k3zdd3zb9fUpabudzUXNXcq1X8TOJ845dzuB4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8WcxONzmMrYzL2NC9s6ySqUa0OaMtnuvmn5hf02pu6W5F2zVNNUd8PJpPTGC0rj6mP0/jqVha1KzrTpwcmnNpJv2m34JBd124anX3IuaivtTEY+HwRXivwnwnES7s7vJX9/Z17SlKlTdtybNN7+0pRe/X3rxJicMvsfEuo2emqi1TFUVTnnn8JQbFdn7K6cyKyWkuId7jbpecrRNSXpLaaUl7mmie1nqzt/jazrLfstZpYqjz9OXL70itOG2YljMraZKng6tS/rRuKkrV1aFCrWUJU5VJUtnyucJtSUJJS/R3bIY25v8AYi5brtTVEUxjniZiMxMRE9+JjlmOXveX+inLzyUclcPTt/kIxUKdzlKNW6jRgvqwpUI93Spxj5JJ7eoXf8SWIt+yp7dNPhTMU5nxqqntVTM985h78hw+4i5SHd3nFi5s6O20aWNxcbdRXonGe/8AEZWLW97VYnNGiiqfGqqavWMI3X7N1hfV+/y+tc5f1X4zqRi2/nJyGWTp48u2o7NnT00x8fww9Vr2aNEU9u/yuerf51KK/hAntytV/SBuM/u0UR8J/N2MT2f+G9hdU688feXzg91C6upSg374x2T+D6EZl4r/ABtut2maYqinPhHP55WnQpU6FGFGjTjTpwiowhFbKKS2SSXgiGp1VTVMzVOZl8wgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBB7ji5w4oV6lCrq7HKdOTjJJykt09n1S2YZ2jhnda6YqixOJ8vzfX/TDw0/xdj/sn/tGFX+Ft2/yJ+X5vFneNfD6yw15d2Wo7O9uqVCc6FvBT3qzSfLH6vTd7LfyJwv6bhLdLt6miu1NMTMZnlyjvnq7PCHW9vr7RlDN06Ube5jN0bugpcypVY+KT9GmmvcyJjDxb7tFe06ubEzmOsT4x+uTq6z1XgdIYiWUz9/TtLdPlgn1nUl/dhFdZP4fMPJt+26ncLvstPTmflHvme5zeHfETS+vKFaeBvJutQ61ravDu6sE/CXL5r3ptEzGHq3bY9ZtVURqKeU9JjnH680jzGQtsVibvJ3k+S2tKM69WXpGMW3/BEMZYs137tNqjrVMRHxVLw64/aVztncvUdehp+7p1n3VOpKU4VKT+q1Lb6y8GvmvdMxMNv3bgrW6Wun9miblMxznlmJ8s9PBMcVxT4fZTI0sfY6qx9W5rSUKcHKUeeT8EnJJNv03IYW/w7udi3Ny5ZmIjr+odTVes9MaVlQjqHNWuPlcJulGrJ7zS8Wkk3t1QeXQ7VrNfn9mtzVjrhwv6YeGn+Lsf9k/9oe//AAtu3+RPy/M/ph4af4ux/wBk/wDaMH+Ft2/yJ+X5uJg+NeAzPFWlpLHzpXGOuKCVvkISklO42bdPZpdNuifr8ScTjL3anhLU6bbJ1lzlVE86f9Pj+u5Y2pM5i9O4W4zGZvKdpY28eapVnv08kkl1bb6JLqyGt6TSXtZeps2Kc1T3K+xXHzhtfXSt5Za4s23tGdzazhB/vLfb57E4lsV/gvdrVPaiiKvKYz+vJZePvbTIWdO8sbqjdW1Vc1OrRqKcJr1TXRkNYu2q7Nc0XImJjunlL+ZG9tMbY1r+/uaVra0IOdWtVmowhFeLbfgC1arvVxbtxmqekQhUuMnDOMnF6usd16QqNfbyk4ZyOFd3mM+wn5fm6ul+IOjdT38rDBags726jBz7qLlGTivFpSS329xDya3ZNfoaPaai1NNPj/shmc424TC8WbjSOTjStsZb0uWrkXKT5LjlUuVxSfs9eXf19xOJxlmtPwjqNTtcay1zrmeVP+npnz7/ACSNcW+G7W61hi/nNr/QhjZ4Z3WP+xU/kuLvDaPjrDGfKUn/AKBMcMbtP/YqR/WPHHS9lb2VDSt1b6gyl5d07enb03KMYqUknJvb5Jer9EycMhoOENZdqqq1cTbopiZzy7vitlENRAAAAAAAAAAAAAAAAAAAAAAAADOfat0JpfEaQoajxGJt8ffyyMaVWVvHkjVjOM294rpvvFPfb1K6Z5ulcEbzrNRq5016uaqezmM88YmO/qgvZZ0xgdVavylpqDGUchQo4/vacKre0Zd5Fb9GvJsmuWe413DU6HS269PX2ZmrHLyleWpuAnDzLWc6dnjKmIuHF8le0rS6Py3hJuLXu6fFFEVS0PR8abpp64muvtx4TEesYlB+zjjc5oXixqHQmUhOVKpaK5hVjF93U5JJQqR90oza+K28iapzzZ3i3UafdNrs7ha6xOMd8ZjnHwmPxcXibwt4u6zyd/qPLLH1ZUXJWlhTu93Gkn0jTW3L4derTb8epNNUQ92zcR7HttujTWcxnrVjv8Z7/liFOaN1DldGastczY89K7s6u1SlPePPHfadOa9Gt015fFFcx2obpuGhs7lparNznTVHX0mGzdYW9biZwhqUtMZChbLM21OVOrWT5VByTnCXLu0+ji+j8yy4noK6dk3WJ1VMz7OZzEeOOUx6qFr9mjW1O2nUp5bBVaiW6pqrVXN7t3DYudt0Cn6QNvmqImiuI8o/NAeDun6uf4pYTEyi3GN4qtxs99oUnzy6/u7fMmqeTYd/11Ok2y7e92I855R6tr6t0hprVltTo6hw9rfqmmqcqkfbp83jyyWzXl4PyLTh2h3PV6CqatNcmnPXHSfOOjAuobSGPz+RsKMpOnbXVWjByfVqM3Fb/JF6mcw+hNJdm9YouVdZiJ++G0bfg5w0usZRVTSlonOlFuUKlSMt2l13Ui1mXEKuKt2ouTi9PKfCPyUtxs4RVOHs7bWejq11UsrW4hUq06j552k004TUvFw3SXXqnt1e/SrtZjEt34d4njd4q0WtiO1VExE9IqjvjHj6ph2iKud1vb6N0hgbGs6+XgsjWjJOMKa5Uo88vJR5pN/BebRFPKWG4Up022VanWaiqMW/qx4zz7vPEYUXxV4d5fh3k7Szyl1Z3Su6Tq0qls5bdHs01JJp7suU1Zb9sm+2N4t1V2qZjszic/2fHhlxG1HoHJqvirh1bKck7ixqyfc1l8PzZekl1+K6CaYlO8bDpd2t9m7GKo6VR1j849zZOidUab4k6RldWsKV1a14ujeWVxFSdOTXWnOPg/c/Brqiz0cV3HbtXs2q7FfKqOcVR3++J/WGZ+1Po/BaU1VjZYCyhY0L20lOpQpt8inGe26T8N0108OhXTVOHUOCt01Ov0tyNRV2ppnrPXEw0Jw60bpfRukLbMYrCUfp8cZGpVuVDmr1n3anJcz3fV+S6eBTM5c53bddZuOrqs3rk9ntYiO6OeI+7xlS/BfhLV1/eXutNbxuoWd3cTq0qCbpzupyk3KbfioJvZbbNvzSXWrtcsQ3fiDiaNpop0Ogx2qYiJnr2YjpHn6Iv2ndMYLSeubHG6ex8LC1njYVZU4TlLebqVE23Jt77JfYVUSyvBu4anX6Ku7qau1V2pju6YjwWR2d+G+itU8L6WQz2Bo3l3Uua9N1nUnGXKpbJbxkvAomZy1nivftw0O5Tb092aaYiOWI/GHA4bcNYWPaUvcbSpV54rT9T6ZGdXr0cU6MW/N7y39/IyZnMMhu+/zd4eouzMdu79Xl/wC3yj5tToocoAAAAAAAAAAAAAAAAAAAAAAAACme2F+Smh+1aP8AJUKqerduAv6pP2J9YVl2Nrihb65zEq9anSTxmyc5qO772HqVVto+kCiqvRW+zGfrfhK5uMnFW00Lb4qrZTx+RqV7xQurdV06saGzcpxUX0fgk30KIjLSdg4bubpVcivNMRTynHLtd0Tn8FjWFxbX1nQv7WcatG4pRqUqi/OhJbp/YyGt3LddqubdfKYnE+cPvYW2T+11omGI1Hb6tsKKha5WThdKK6RuEt+b9+PX4xb8y5RPc65wJu86jT1aO5POjp9n+0/KYSfsbasdbH5LR11V3lbP6ZZpv8yTSqRXwlyv95kVxiWL+kDbOxco1tEdfqz5x0+XL4LV426l/wCFOGeYykJqNzKj9HtfXvansxa+G7l+6Uw1Lh3b/wBv3G3amOWcz5Rz+fT4qe7GOmt6uY1bXp9IpWNtJrz6TqP+RfNlVc9zc/pB3Dla0dM/6p9I/FpVlDmL88Na/jlm/wBoXH3si9T0fR23fylr7NPpDe1DOYazw1G4usrY0KMKMXOdS4hGMVyrxbZZfPtWkv3L000UTMzPhKH8D+JUOIuOyULq3t7e+sbhxnTpNuE6Mm+7mubr5NP3ry32JmMM1xHsE7PcomiZmmqOs9YmOsclk7ENZZd7a/8Ab+nP1Sv/ADxKqXVfo8/gX/OPSX18T+CdOeiMfq7SFCSrLH0a19j47vn/AKuLlUp+e/i3Hz8vRzTVhVs3F0xrK9HrJ5dqYpq8OfKJ/CfvVXwt1vk9Bapo5exlKpQltC7tubaNxS36r4rxT8n7tyuqMw23etns7rpps3OvdPhP66rG7WOax+oauksxiq/f2d3jqtWlPbZ7OaWzXk00015NMtx3tZ4H0l3RxqLN2MVU1RE/c1DpP8V8V+pUfu4lMuV67+Zufan1dMPKyP2y/wApmO/ZNP72qXKHYPo//p1f259IW/2TltwetPfd3H85RV1adxv/AFaryp9FsKKUnJJbvxZDUH9AAAAAAAAAAAAAAAAAAAAAAAAAFM9sL8lND9q0f5KhVT1btwF/VJ+xPrCiez9oDE8QtSZDG5e5vLelbWffwlbSipOXPGOz5k+mzK65w37iner+0aei7ZiJmZxzz4TPdMLK1x2abe3w9a60ll7yveUoucbW8UGq235sZxS2fpumt/TxKYqw1jbeP66rsUay3EUz3055fCcrD7MWSvb7hPZ22Qo1qVbG3FWx2qxcZcsHuls/RS5f3SmWt8Y2LdrdKqrc5iuIq5e/88Z+KzyGrIfxk0wtXcOcth4wUrl0XWtfVVoe1Db47cvwkyYZnYNwnb9wt3s8s4nynlP5/BjbhBqKWlOJGGy8puFGFwqVyv8AtT9ie/wT3+KLtXOHat+0Ma/b7tmOuMx5xzhbfbK1K7nK4jSVtPnjbw+mXEY9d5y3jTXxUeZ/vIoo8Wn/AEf6DsWrmsqjr9WPKOc/PH3Ly4RaaWkuHeIwsoKNxToKpc9OrrT9qf2N7fJFEtD33cP+Ia+5f7pnEeUcoSxhiH54a1/HLN/tC4+9kXqej6O27+UtfZp9IaVp9mjR9xj6dSlmc3Sqzpxkm5UpJNrfw5F/5Lfacxnj/XUVzE26ZiJ9/wCaOcMdJ5/hVx8sMNcOd5jsxQq0aV1SptQqwUXNNrryyjKK3W/RPfwZMzmGS3nc9Nv2x13qfq125iZie6enxiYnk06vAoctZd7a/wDb+nP1Sv8AzxKqe91X6PP4F/zj0lorRP4mYT9n2/3cSmXNtx/m7v2qvWWX+1Fw1jpvNLVOHt+XE5GrtXpwj7NvXfX5Rl1a9HuvQuUVdzqvBe/zrbP7Jfn69Ecp8afzj0+KmKt3c1bSjaVa850KHO6UG91Dm6y29N2kVTEYlu1Nqimua4jnOM/B+hmk/wAV8V+pUfu4lmXzlrv5m59qfV0w8rI/bL/KZjv2TT+9qlyh2D6P/wCnV/bn0hcPZRX/AEbsf1q4+8ZRV1abxv8A1avyp9FrkNRAAAAAAAAAAAAAAAAAAAAAAAAABTPbC/JTQ/atH+SoVU9W7cBf1SfsT6wrPsY1YQ4g5ak2lKeKbivXarDf/wAlVbZ/pBpmdBbq/wBf4S1kW3IkW4j66wOgcLHJZqpUfez5KFvQSlVrS8+VNrol1bb2+bRMRlldp2fU7re9lYjp1mekef4JNRqKrRhVimlOKkt1s+qIYuqnszMS+b8Ahg7jjgFpvilncdThyUJXDuKCXhyVVzpL4czXyLtPOMO/8N639t2y1cnrjE+ccv7u9wdsr/iRxpsL3MP6Srfku7uW3RwoRjGCfxagvmyKuUYY/f7trZtnrt2eWcxHnVMzP4y2mi24gMD88Na/jjm/2hcfeSL1P7r6O27+TtfZp9IfoJhaka2Hs60HvGdvTkn6pxTLL531FM03aonumfV6Ks6dOEqlSUYxim3KT2SXm9wtREzOIRnQOvMHratlo4KVerRxtwqEq8obU6za35oPfdx6Px2/iGV3PZtTtkW/2jETXGcd8efvUN21/wC39Ofqlf8AniVU97f/AKPP4F/zj0lorRH4mYT9n2/3cSlzbcf5u79qr1l89W4Kw1Npu+wWSp89reUXTn6xflJe9PZr3oI0OsuaLUUai1P1qZz/AG+PRgDU+Gu9PahyGEv47XNlXnRqbeDa/OXua2a9zL2c0vobRaujWaei/b6VREv0B0n+K+K/UqP3cSzL541v8zc+1Pq6YeVkftl/lMx37Jp/e1S5Q7B9H/8ATq/tz6QuDsoPfg5ZL0urj7xlFXVpvG/9Wr8qfRbBDUQAAAAAAAAAAAAAAAAAAAAAAAAAZW7QWudR6zslpi00Pm7C2tb3valWvbzlUqOKlGO0VHaK9pvxe/Qrpw6xwts+l22v9qr1NNU1U4xExiM4nrnn90K64dT1xozVVrqDE6cytWrR3jOlKxq8tWnJbSg9o+fr5NJlVUxLZd2jbty01WnvXaYie/tRynunqvy+456h/Bzdnwr1Grxx6d9Tqd1F+u6p7tfYUYc+t8H6X2n19bR2fdMZ9fzU1hKmpeKfGrGW+pnVlWdynXoSpuEbahTfPKCg/qrZbderb67tlU4iG66mnR7Fs9yrS9Mcp65meUTnvbXXgW3DgDMPbA0tk7rVmJzeOxl1dU69m7erKhRlU2nCba35U9t1Pp8CuicOp8BbjZt6W5Yu1xExOYzOOUx/ZKOyFpG8w2n8pncnYVrS5v60aNFV6bhPuoLdtJ9UnKT+PKRVOZYrjzdLepv27FqqJimMzjpmfyj1XsUtBQPi3r6/0TbWrsNJ5POVLlT2nbxfdUmttlOSTe738Nuuz6kxDP7Fstvc6qvaX6bcRjr1ny5wxnkMJqjIZG5va2n8o61zVnVmo2VXbmlJt7dPVl2JiIdstazR2bdNuLtOIiI/ejuXxwy4tawwGl7XCZzh9qDJfQqapULm3tqkZSpxW0YzUo+KWy3T8EuhbmI7nP8AeOGdDq9TVf0+qop7U5mJmOvfjn8kU418WNb6hxksZLT9/pnDV3yVFVpTVS4/RlOUUuX9FLr5tommmMsvw7w1t2kue1i7F25HTExiPfEZnn75Wz2fMbU0ZwPeZqY66u7q7jUyUra3hzVqkdtqcYrzbjFNL9IpqnMtQ4p1EblvPsIriKacUZnpHjM/GfkpDjbqLUvEfO2l5HR2Vx9tZ0ZUqVKVvUqTlvLeUm+VL06eWxXTiG9cOaHSbNYqonUU1TVOZnMRHqvTgXxDy+bo2GmMto7LY+taWShK+lSkqE+7ikm+ZLlbXl16lEw0PiXY7Glqr1Vm/TVFVX7uYzz8pnOPgt0hpzJXar0rlanFH8IY3DX1zSvrKlKVShbyqRlUjzQa3in12UenwK4nk6/wTuVinbfZ3bkRNNU8pmI5Tz7/AItS6bpVKGnsdQrQlTqU7SlGcX4xagk0UOUauqK79dVPSZn1fTrDMz0/pu9zFPG3mTlbQUla2kOarU3aXRe7fd+5MLmg0savUU2ZrinPfPSGO+MWS1XxC1as3LR2XsKVK3jb0aP0WrNqMXJ7uXIt23J+XoXKZiHZtgsaLaNL7CL9NUzOZnMR+PuT7s+651FpOwttI5DQucubave70rmjbTi6SqNJ80ZR2aT677rpuU1Y7mvcU7RpNfcq1lvU0xMU84mY548Jz8OjThS5cAAAAAAAAAAAAAAAAAAAAAAAAABt/wC7gNvj9oDYDjWumMJbaru9U0bGCy93QhQrXDk23CPgkvBeC328dl6B7a9w1Felp0k1f8umZmI98uyHiADAAAHRgNvj9oDYDk6s05h9VYWph85aq6sqk4TlT53HrGSkuqe/ig9mh11/Q3ovWKsVRn58nTo0qdGjCjSpxp04RUYwitlFJbJJeSDyVVTVM1TOZl89vj9oQLYAA2AAAG3x+0BsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACruOuo83gclouliMhUtIX+bp290oRi+9ptx3i90/V+BMQ2rhrQafV29VN6nPZomY9081oohqqq+I3EDPy1bDQPD2xoXufdNVby6r//AAWMHs95er2afXot0tm3sTENr2nZNNGlncNxqmm10iI61T7v1484hzquluOllReQtuIeNyN1Fczsq1lGFKf6Kly//nxQzD007jw5dn2dWlqpp/8AKKpz54z+aT8IuIMtYUb7GZfHvE6jxU+7yFk99k99ueG/Xlb8uu3q002mGL33ZI26aLtmrt2q+dNX4T70d1TrzVuptZXei+GNG0hPHvlyeYuo81K3lvtyxWzTaaa8G209lstwyWi2bRaLSU67dJn6/wC7RHWffP6jz54fRdYDjrgaLyVhrPHalqQ9qpj7i0jSVT3RlsuvziOSujW8OaufZXNPNqJ/6omZx5/7St3F1bypi7etkqFK2u5UYyr0qdTnhTnt7SUtluk/PYhp96miLlUWpzTnlOMZjyU9X1rrviLqC9xvDOdpi8HYVHRr5u6p8/fTXiqcWmtvTo3ts247pEtyp2nbtnsUXd0zXcqjMURyxHv/AN/diX8ylrxu0TazzUdQWOsrKgue6sqlqqVXkXWThyrd7Lfwf7rHJNm5w9udUWJtTYqnpVnMZ9+fy+MLM4fasxmtdLWufxbkqVdOM6c/rUqi+tCXvX8Vs/Mhq+6bbe23U1ae71jv8Y7pSAMeAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFM9pX+1+Hv/wBipf8AmBNLdeEP4Ws/+OfxXL5ENKUtwWq0LPjRxKx2Rahlq99GvRU/rTt+abXL7kp0380TLd+Iaarm0aG5b/cinE/a5flK6umxDSFKaenTv+1dnbnEyUqFph40MhUh9V1t4JJ+rWyX7r9Ce5vGqibXDFqm91qrzT5c/wBfF/eynVt7fDalxFztDN22aqyvYS+u00lFv3bxmvj8RKONqaq71i9T/DmiOz4frEwkutsJxXvdRV7jS2ssXjMVKMFStq9nGpOLUVzNtwfi934hjNu1ey2tPFOrsVVV88zE48u+EP4XZ7XWqbLX9hk89SzNKwtqllY3FtbwpwqXDhU3cHGKb8I/avUSzO9aPbtDXo7lq32JqmKqomZmYpzHXMy7/ZWu8dW4QWFtaOEbm1r1qd5D86NV1HLqvfFx/wDUJY7jW3dp3WuqvpVETHljHrlaVzWpW9CpXr1IU6VOLnOcnsoxS3bb8kkQ1Wima6oppjMypzsqx7zD6pv7WEoYq6ztWdjHbZcm3il6bOK+RMt041nF7T26/wB+miO15/rK5yGkgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABW3HLROodYU8BV05dWFvd4q/8Apaldyko7pLl2Si9+qXQmGzcN7vpdum9GpiZprp7PL598OSsZ2gt1vqLSO2/X+ol/sD1zqOGP8q59/wDd3OJfDOjqq9tM/i8pWwWp7KKVHIW6+sl+bNLbddX19G11XQZeDZ+IKtBRVp7tHtLNXWmfWP190o9W0vx2v6Lx15r3CWtrJcs7q0tWrhx920Fs/g18QyVO48OWp9pRpqpq8Jnl6z6SnPDLQmH0HhJ4/GupXr15d5d3dbrVuJ+r9Et3svLd+LbbZYHeN5v7re9pd5RHKIjpEfrrKO6/4XVsjqVaw0bnKmnNR8vLVqwhzUblf9yPr0W72aey3TfUZZLa+IqbOn/Ytbb9ra7o748p/wBvNxb3RfGjUVvLF6h15irHGVPZuJYy3arVY+a35Y7br3r4MPbb3bYNHV7XTaaqquOnanlE/fPosvQ2lcRo3TlDBYWi6dtS3lKU3vOrN+M5Pzk/9El0RDWdy3G/uOonUX5zM/dEeEe5A9TcKsrZaouNVcN9RLTuRu3zXlrUp89rcS33bcdnt13fg+rbWxOWf0fEdm5pqdJudr2lFPSY5VR+vOPflz77h7xT1fBY7XGuLKhhm/6+2xNHllXXo5OMenx3XuGXot75s23z7XQaeZud01z0+c/h5rY05hsdp7CWuGxNtG2srWHJSpx8l5tvzbe7b82yGo6vV3dXeqvXpzVV1dAPOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/9k='})
        res.json({data:evenement})
    }catch(err) {
        const club = Club.findByPk(req.params.id_club)
        if(!club)
            return res.status(404).json({msg:'Club introuvable'})
        res.status(500).json({msg:"Server Error"})
    }
}

exports.udpateEvenement = async (req,res) => {
    const errors = validationResult(req)
    if (!errors.isEmpty()) {
        return res.status(400).json({ errors: errors.array() })
    }
    try{
        let evenement = await Evenement.findByPk(req.params.id)
        if(!evenement)
            return res.status(404).json({msg:"Evenement introuvable"})
        if(evenement.id_club !== parseInt(req.params.id_club))
            return res.status(400).json({msg:"cette evenement n'appartient pas à ce club"})
        evenement = await evenement.update({...req.body})
        res.json({data:evenement})
    }catch(err) {
        console.log("update evenement error message : " + err.message)
        res.status(500).json({msg:"Server Error"})
    }
}

exports.deleteEvenement = async (req,res) => {
    try{
        let evenement = await Evenement.findByPk(req.params.id)
        if(!evenement)
            return res.status(404).json({msg:"Evenement introuvable"})
        if(evenement.id_club !== parseInt(req.params.id_club))
            return res.status(400).json({msg:"cette evenement n'appartient pas à ce club"})
        await evenement.destroy()
        res.json({msg:"Evenement supprimer"})
    }catch(err) {
        console.log("delete evnement error" + err.message)
        res.status(500).json({msg:"Server Error"})
    }
}


// added by badr
exports.getAllClubEvenement = async (req,res)=>{
    try{
        const errors = validationResult(req)
        if (!errors.isEmpty()) {
            return res.status(400).json({ errors: errors.array() })
        }

        const evenements = await Evenement.findAll({
            where:{
                id_club:req.params.id_club,
            }
        })

        res.json({data:evenements})
    }catch(err){
        console.log("get all club evenement error: " + err.message)
        res.status(500).json({msg:"Server error"})
    }
}


// changed id_club to id_club, cuz snake case in president and camel case in here?????